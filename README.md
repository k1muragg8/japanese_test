# Kana Tutor (假名导师)

`Kana Tutor` 是一个专注于 Web 端体验的日语假名（平假名和片假名）抽认卡应用程序。它旨在通过纯粹的键盘流操作和智能的随机调度算法，帮助用户高效掌握假名。

## ✨ 功能特性

- **纯 Web 架构:** 摒弃了旧版的终端界面，完全转型为基于 Axum 的高性能 Web 服务器，提供现代化的浏览器体验。
- **随机缓冲调度:** 采用 Fisher-Yates 洗牌算法，并结合 **200张卡片缓冲池** 机制，确保复习内容的随机性和多样性，彻底避免短期内的重复出现。
- **永不封存:** 移除了自动暂停（Leech）机制，无论错误多少次，卡片永远不会被隐藏，确保您有机会攻克每一个难点。
- **间隔重复系统 (SRS):** 核心保留了基于 FSRS-Lite 的间隔重复逻辑，智能追踪记忆状态（新学、学习中、复习、重学）。
- **平假名 & 片假名:** 包含全套基本字符，以及浊音（dakuon）、半浊音（handakuon）和拗音（yoon）字符。
- **极简键盘流:** 专为键盘效率设计，无干扰的 UI，仅需使用 [Enter] 键即可完成提交和导航。
- **本地数据:** 使用本地 SQLite 数据库（`kana.db`）存储您的学习进度，数据完全掌控。

## 🚀 快速上手

### 先决条件

- [Rust](https://www.rust-lang.org/tools/install) (建议使用最新的稳定版本)

### 构建与运行

1.  **克隆仓库:**
    ```bash
    git clone <repository-url>
    cd kana-tutor
    ```

2.  **启动 Web 服务器:**
    ```bash
    cargo run --release
    ```
    服务器默认将在 `0.0.0.0:3000` 启动。
    应用程序将在根目录中创建或使用现有的 `kana.db` 文件。

3.  **访问应用:**
    打开浏览器并访问 `http://localhost:3000` (需配合前端页面使用)。

## ⌨️ API 接口

后端提供以下核心 API 供前端调用：

-   `GET /api/next_batch`: 获取下一批复习卡片（自动应用随机缓冲算法）。
-   `POST /api/submit`: 提交答案，更新卡片状态。

## 🧠 调度算法

系统采用独特的 **Deck Shuffle** 策略：
1.  **Fisher-Yates 洗牌:** 每次获取卡片批次时，都会对可用卡片进行真随机洗牌。
2.  **10轮缓冲 (No Repeats):** 系统会记住最近展示过的 **200张卡片**（约10批），并在下一轮选择中严格排除这些卡片。这迫使系统遍历几乎整个数据集（~208个字符）后才会重复，极大地增加了练习的覆盖面和不可预测性。

## 🐳 Docker 部署

```bash
# 构建并启动服务
podman-compose up -d
```
服务将映射到宿主机的 `3000` 端口，并将数据持久化挂载到 `kana-data` 卷。
